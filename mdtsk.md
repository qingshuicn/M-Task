---
name: mdtsk
description: 党政事务部集团-分校任务追踪系统 - 高效透明的任务协同平台
status: backlog
created: 2025-09-04T13:54:37Z
---

# PRD: 党政事务部集团-分校任务追踪系统

> **版本：** 2.3 (Enhanced)  
> **作者：** Vibe Coding  
> **文档整合：** Gemini AI  

## Executive Summary

党政事务部集团-分校任务追踪系统（mdtsk）是一个企业级任务协同平台，专为解决集团与分校之间任务管理的核心痛点而设计。系统通过提供实时的任务下发、透明的进度追踪、规范的材料归档和智能的催办机制，实现了任务管理的数字化转型。平台支持多角色协作、实时看板、大屏展示和LLM智能拆解等功能，显著提升组织运作效率。

## Problem Statement

### 当前痛点
- **进度不透明**：传统邮件/IM交办任务无法实时追踪执行状态
- **材料归档混乱**：任务相关文档分散在各个沟通渠道，难以统一管理
- **催办耗时耗力**：人工跟进效率低下，容易遗漏
- **跨部门协作困难**：缺乏标准化的任务流转机制
- **数据无法追溯**：历史任务执行情况难以审计和复盘

### 为什么现在解决
- 组织规模扩大，任务管理复杂度急剧上升
- 数字化转型需求迫切，需要系统化解决方案
- 合规审计要求提高，需要完整的任务追踪记录
- 远程协作常态化，需要更高效的线上协作工具

## User Stories

### 主要用户角色

| 角色代码 | 角色名称 | 主要场景 |
|---------|---------|----------|
| PGD_OFFICER | 集团事务官 | 创建和发布任务，监督执行进度，审核完成情况 |
| BRANCH_ADMIN | 分校管理员 | 管理本校任务，分配执行人员，监督完成质量 |
| TASK_ASSIGNEE | 任务执行人 | 接收任务，更新执行状态，上传材料，提交审核 |
| PUBLIC_SCREEN | 公共大屏 | 展示任务进度，突出重点任务，提醒逾期情况 |
| SYS_ADMIN | 系统管理员 | 管理用户权限，配置系统参数，维护系统安全 |

### 详细用户旅程

#### 集团事务官旅程
1. 登录系统并进入任务管理界面
2. 创建新任务模板，填写任务详情
3. （可选）调用LLM服务智能拆解任务步骤
4. 选择目标分校并设置截止时间
5. 发布任务并自动通知相关人员
6. 实时监控任务执行进度
7. 收到完成提醒后进行审核
8. 批准或退回任务，完成闭环

#### 任务执行人旅程
1. 收到任务分配通知
2. 在看板界面查看任务详情
3. 拖拽更新任务状态（待开始→进行中）
4. 执行任务并上传相关附件
5. 填写执行备注和说明
6. 提交任务等待审核
7. 根据反馈进行修改或确认完成

## Requirements

### Functional Requirements

#### 核心功能模块
1. **任务管理**
   - 任务模板创建与管理
   - 任务实例化与发布
   - 多步骤任务拆解
   - 任务版本控制

2. **执行跟踪**
   - 实时看板展示
   - 拖拽式状态更新
   - 进度可视化
   - 关键步骤标记

3. **协作功能**
   - 多角色权限管理
   - 任务分配与转交
   - 评论与沟通
   - @提及通知

4. **智能辅助**
   - LLM任务拆解
   - 智能催办规则
   - 自动提醒通知
   - 异常预警

5. **文档管理**
   - 附件上传与预览
   - 版本控制
   - 直传优化（MinIO）
   - 生命周期管理

6. **数据展示**
   - 实时大屏展示
   - 数据统计分析
   - 自定义报表
   - 审计日志

### Non-Functional Requirements

#### 性能要求
- API响应时间 ≤300ms (P95)
- 页面首次交互时间 ≤1.5秒
- WebSocket消息延迟 ≤500ms
- 任务发布到可见 ≤10秒 (P99)
- 多端数据同步 ≤1秒 (P95)

#### 安全要求
- OAuth2.0 + PKCE认证
- JWT (RS256)令牌
- RBAC权限控制
- HMAC-SHA256签名保护
- 敏感数据加密存储

#### 可用性要求
- 系统可用性 ≥99.5%
- 通知送达率 ≥99.5%
- 数据恢复时间 ≤30分钟
- 审计日志保留 ≥365天

#### 可扩展性
- 支持水平扩展
- 无状态后端设计
- 消息队列解耦
- 多Provider支持

## Success Criteria

### 关键指标
- **效率提升**：任务下发到响应时间缩短80%
- **透明度提升**：100%任务状态实时可见
- **合规性**：100%关键操作可审计
- **用户采用率**：3个月内活跃用户达到90%
- **满意度**：用户满意度评分≥4.5/5

### 业务成果
- 任务完成率提升30%
- 逾期任务减少50%
- 催办工作量降低70%
- 跨部门协作效率提升40%

## Constraints & Assumptions

### 技术约束
- 必须兼容现有SSO系统
- PostgreSQL作为主数据库（外部部署）
- 需支持IE11以上浏览器
- 初期仅支持SMTP通知

### 资源约束
- 开发团队5-8人
- 开发周期3-4个月
- 需要LLM API配额
- 存储空间按需扩展

### 业务假设
- 用户已有企业邮箱账号
- 组织架构相对稳定
- 网络环境支持WebSocket
- 用户接受新系统培训

## Out of Scope

以下功能不在当前版本范围内：
- 移动端原生APP
- 离线功能支持
- 第三方系统深度集成
- 自定义工作流引擎
- BI数据分析平台
- 多语言国际化
- 视频会议集成
- 项目甘特图

## Dependencies

### 外部依赖
- **SSO系统**：用户认证与单点登录
- **SMTP服务**：邮件通知发送
- **LLM API**：智能任务拆解（OpenAI兼容接口）
- **MinIO**：对象存储服务
- **Redis**：缓存与消息队列

### 内部依赖
- **前端团队**：React/TypeScript开发能力
- **后端团队**：NestJS/Node.js开发能力
- **DevOps团队**：部署与运维支持
- **UI/UX设计**：界面设计与用户体验

## Technical Architecture

### 技术栈
| 领域 | 技术选型 | 版本/规格 |
|------|---------|-----------|
| 前端 | React + TypeScript | v19 + Vite 7 |
| 后端 | NestJS | v12 (CommonJS) |
| 数据库 | PostgreSQL + Redis | 主库 + 缓存 |
| 存储 | MinIO | S3兼容 |
| 队列 | BullMQ | 基于Redis |
| 部署 | Node.js + PM2 + Nginx | 进程管理 + 网关 |

### 系统架构
- Monorepo结构（frontend/ + backend/）
- RESTful API + WebSocket实时通信
- 微服务就绪（模块化设计）
- 容器化部署支持

## Implementation Roadmap

| 阶段 | 核心交付 | 时间线 | 验收标准 |
|------|---------|--------|---------|
| Phase 1 | 基础框架与用户管理 | Week 1-3 | SSO登录、用户CRUD |
| Phase 2 | 核心任务流转 | Week 4-6 | 任务创建、分发、执行 |
| Phase 3 | 通知与催办 | Week 7-8 | SMTP集成、基础催办 |
| Phase 4 | 审核与大屏 | Week 9-10 | 审核流程、大屏展示 |
| Phase 5 | 智能功能 | Week 11-12 | LLM集成、高级催办 |
| Phase 6 | 优化与部署 | Week 13-16 | 性能优化、生产部署 |

## Risk Assessment

### 高风险
- LLM服务不稳定或成本超预期
- 用户抵触新系统
- 数据迁移复杂度高

### 中风险
- WebSocket在某些网络环境受限
- 第三方服务（MinIO/Redis）故障
- 并发性能瓶颈

### 低风险
- 浏览器兼容性问题
- UI响应速度不达预期

## Appendix

### 数据模型详情
详见原PRD第5节完整数据模型定义

### API接口规范
详见原PRD第6节REST API定义

### 权限矩阵
详见原PRD第10.3节RBAC权限配置